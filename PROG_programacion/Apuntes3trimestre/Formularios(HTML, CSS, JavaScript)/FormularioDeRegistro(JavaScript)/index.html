<!DOCTYPE html>
<html lang="es">
  <!-- HEAD -->
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Formulario de registro</title>
  </head>
  <!-- BODY -->
  <body>
    <form id="Formulario">
      <!-- Campo para el nombre -->
      <div>
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" name="nombre" />
        <div id="errorNombre" class="error"></div>
      </div>
      <!-- Campo para el email -->
      <div>
        <label for="email">Correo electrónico:</label>
        <input type="email" id="email" name="email" />
        <div id="errorEmail" class="error"></div>
      </div>
      <!-- Campo para el edad -->
      <div>
        <label for="edad">Edad:</label>
        <input type="number" id="edad" name="edad" min="18" max="99" />
        <div id="errorEdad" class="error"></div>
      </div>
      <!-- Campo check-box para los intereses -->
      <div>
        <!-- Titulo 'Intereses' -->
        <label>Intereses:</label><br />
        <!-- Tecnologia -->
        <input
          type="checkbox"
          id="tecnologia"
          name="intereses"
          value="Tecnologia"
        />
        <label for="tecnologia">Tecnología</label><br />
        <!-- Deporte -->
        <input type="checkbox" id="deporte" name="intereses" value="deporte" />
        <label for="deporte">Deporte</label><br />
        <!-- Arte -->
        <input type="checkbox" id="arte" name="intereses" value="arte" />
        <label for="arte">Arte</label><br />
        <!-- Musica -->
        <input type="checkbox" id="intereses" name="intereses" value="musica" />
        <label for="musica">Musica</label>
        <!-- div para el error -->
        <div id="errorIntereses" class="error"></div>
      </div>
      <!-- Botones de enviar o resetear -->
      <button type="submit">Enviar</button>
      <button type="reset">Resetear</button>
    </form>
    <script>
      /*
      // Inicio la variable x
      let x = "hola"
      console.log(x) // 'sout'

      // Actualizo el valor de x
      x = "Cuidado, esta página contiene un troyano";
      console.log(x); // 'sout'

      // Aviso de la pagina
      alert(x);
      */

      document
        .getElementById("Formulario")
        .addEventListener("submit", function (event) {
          let valido = true; // Variable bandera para seguir el estado de la validación

          let errorNombre = document.getElementById("errorNombre");
          let errorEmail = document.getElementById("errorEmail");
          let errorEdad = document.getElementById("errorEdad");
          let errorIntereses = document.getElementById("errorIntereses");

          // Vamos a limpiar los mensajer anteriores de error
          errorNombre.textContent = "";
          errorEmail.textContent = "";
          errorEdad.textContent = "";
          errorIntereses.textContent = "";

          // Comparacion de que el nombre no esta vacío a la hora de enviar el formulario
          let nombre = getElementById("nombre").value;
          if (nombre === "") {
            errorNombre.textContent = "Por favor introduzca su nombre.";
            valido = false;
          }

          // Comparacion de que el email no esta vacío a la hora de enviar el formulario
          let email = getElementById("email").value;
          if (email === "" || !/^\S+@\S+$/.test(email)) {
            errorEmail.textContent = "Por favor introduzca su email.";
            valido = false;
          }

          // Comparacion de que el edad no esta vacío a la hora de enviar el formulario
          let edad = getElementById("edad").value;
          if (edad < 18 || edad > 99) {
            errorEdad.textContent = "Por favor introduzca su edad.";
            valido = false;
          }

          // Comparacion de que el intereses no esta vacío a la hora de enviar el formulario
          let intereses = document.querySelectorAll(
            'input[name = "intereses"]:checked'
          );
          if (intereses.length === 0) {
            errorIntereses.textContent =
              "Por favor selecciona al menos un interés.";
            valido = false;
          }

          if (!valido) {
            event.preventDefault();
          }
        });
    </script>
  </body>
</html>
